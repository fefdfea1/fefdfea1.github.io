{"componentChunkName":"component---src-templates-blog-template-js","path":"/next-shopProject6/","result":{"data":{"cur":{"id":"3e527649-c4d0-571a-8aa4-cf478c6c8ccb","html":"<h1 id=\"next-js-api-라우터에서-서버-개발\" style=\"position:relative;\"><a href=\"#next-js-api-%EB%9D%BC%EC%9A%B0%ED%84%B0%EC%97%90%EC%84%9C-%EC%84%9C%EB%B2%84-%EA%B0%9C%EB%B0%9C\" aria-label=\"next js api 라우터에서 서버 개발 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next Js api 라우터에서 서버 개발</h1>\n<p>쇼핑몰 레이아웃에 이어 서버 개발을 시작하기 이전에 Next js에서 서버 개발을 하는 방법에 대해 정말 정말 짧겠지만 알고가면 조금더 도움이 될 것 같아 작성하게 되었다.</p>\n<h2 id=\"app-라우터-방식에서-서버개발\" style=\"position:relative;\"><a href=\"#app-%EB%9D%BC%EC%9A%B0%ED%84%B0-%EB%B0%A9%EC%8B%9D%EC%97%90%EC%84%9C-%EC%84%9C%EB%B2%84%EA%B0%9C%EB%B0%9C\" aria-label=\"app 라우터 방식에서 서버개발 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>app 라우터 방식에서 서버개발</h2>\n<p>우선 기존 page 방식과 어떤 방법의 차이가 있는지 알아보도록 하자</p>\n<p>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 687px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB/UlEQVQ4y61T246iUBAE5CKIAiICuooIzgDGdaJjTIyy//9VtalWJk5mN9lJ9qHsyzldVp9uFNd1sV6vsVwuMZ1OsVgsxC/LElmWwfM8KIry7/B9H9frVVA3Dc7nM263FrfbDW3bCum3CPmjKgqMngrbMiWpPXKapkLXdYxGIwwGAwyHQ/FpGT+DecuyqNDD7u2AybJBmteoqhpp8RPB/AWrskJdVwjDEJPJBFEUybPQD4JA4u4sjmMhVjRNg2FQmQFF0UTR3e9BUTX0er3vtUxCx7HhDpw7XBeB78H3RvC80UeLzFMB7TN41j2FtExFHAzB5Gw2w/F4xG63Q1VVgjRNpcUkSaQ1tv3cOjEej+E4zldCFpPscDhgs9nI+qRpIsVFUWC1Wsnks+VC8qz7KyF3jirqusZ2u8VmUyJfl4iTu8L5fC5IkhjJbIEomf2ZkEEHElIBW319fcE8K6Q4jqePXIVVtkReveFHsUUY+AjDiXTwMWU+ZgfzYQ3DgGma6DM2TckzvueZ02GZBiyrj36/D9u25UwWmw6VGoYuF01Dl5h/RpCoI2MxoesG9Ecd73z6Uk6nE361LXb7I2blHkVzwOVywen9XT5BTn2/3ws4LN6n3zSN2DzPhUxV1TshN57TncYxwihGFKeyPhyAY9uigJc72/nP+ET4P/EbepljDrudraMAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"app 라우팅\" title=\"app 라우팅\" src=\"/static/32d7176922747958e5a3bc5b0b121fc2/aec65/AppAPi.png\" srcset=\"/static/32d7176922747958e5a3bc5b0b121fc2/e9ff0/AppAPi.png 180w,\n/static/32d7176922747958e5a3bc5b0b121fc2/f21e7/AppAPi.png 360w,\n/static/32d7176922747958e5a3bc5b0b121fc2/aec65/AppAPi.png 687w\" sizes=\"(max-width: 687px) 100vw, 687px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 671px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 51.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABXUlEQVQoz6VS226CUBA8oAYEjbYmyk25iYB3QbTa//+uaXZabNL40KYPk11mL2d2WfXihPCyI179BErToZT6H3Rdg+u6WCwWCIIAjuPA933C8zzyEp/NZowL10L4FlLX6XSkoY44jhGGEebzORuEYUhEUYQ0Tem3vOQKnyQJyrJkI8MwiC+VCqZpoiwKZMslkcQxbeD7GI/HmE6nmEwm5Jdp+sjTNO3Z2Aq2beP9fse5rlFXFarTCc35jFWWUVmWZfQlfr1c+LjkbDcbFHn+WIFlWZ8N+/0+iqLApWlY9Ha9Yrfdcictut0u8wTiy1TD4RCDwQC9Xo/cl2LFzlVVYb/b4Xg4YF2WHE0UyMvyQ6jCdZGvVlSYJgl3Lr6oFDsajb5HzvOcO9qs11TY1DXutxu/D/s9VyDj+p4H0zAoQlRKrfi2ZVGlenZLIr1duFi5hBa/uMW/H2/74E9I/ANUI/QU2B1rQwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"page 라우팅\" title=\"page 라우팅\" src=\"/static/a3d55753e97dc7e28b7dbd26878b2f6c/d0e73/pageApi.png\" srcset=\"/static/a3d55753e97dc7e28b7dbd26878b2f6c/e9ff0/pageApi.png 180w,\n/static/a3d55753e97dc7e28b7dbd26878b2f6c/f21e7/pageApi.png 360w,\n/static/a3d55753e97dc7e28b7dbd26878b2f6c/d0e73/pageApi.png 671w\" sizes=\"(max-width: 671px) 100vw, 671px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n</p>\n<p>해당 이미지를 보면 왼쪽이 현재의 app 라이팅 오른쪽이 page 라우팅 방식의 방법이다. 이처럼 app 라우팅은 api/폴더명/route.js or js 형태로 제작을 해야하며</p>\n<p>page라우팅 방식은 그보다는 자유롭게 자인이 원하는 이름.js or ts를 사용하여 제작할 수 있는 차이가 있다.</p>\n<h2 id=\"라우팅-예제\" style=\"position:relative;\"><a href=\"#%EB%9D%BC%EC%9A%B0%ED%8C%85-%EC%98%88%EC%A0%9C\" aria-label=\"라우팅 예제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>라우팅 예제</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// pages/api/hello.ts</span>\r\n<span class=\"token comment\">//페이지 라우팅</span>\r\n\r\n<span class=\"token keyword\">import</span> type <span class=\"token punctuation\">{</span> NextApiRequest<span class=\"token punctuation\">,</span> NextApiResponse <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'next'</span><span class=\"token punctuation\">;</span>\r\n\r\ntype ResponseData <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">message</span><span class=\"token operator\">:</span> string<span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">handler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">req</span><span class=\"token operator\">:</span> NextApiRequest<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">res</span><span class=\"token operator\">:</span> NextApiResponse<span class=\"token operator\">&lt;</span>ResponseData<span class=\"token operator\">></span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">message</span><span class=\"token operator\">:</span> <span class=\"token string\">'Hello from Next.js!'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// app/api/route.ts</span>\r\n<span class=\"token comment\">//App 라우팅</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token constant\">GET</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">request</span><span class=\"token operator\">:</span> Request</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Response</span><span class=\"token punctuation\">(</span><span class=\"token string\">'sdfsdf'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">status</span><span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\nor<span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NextResponse <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'next/server'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token constant\">GET</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">request</span><span class=\"token operator\">:</span> Request</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">username</span><span class=\"token operator\">:</span> <span class=\"token string\">'ㅁㄴㅇㅁㄴㅇ'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">email</span><span class=\"token operator\">:</span> <span class=\"token string\">'이메일'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span> NextResponse<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> result <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">status</span><span class=\"token operator\">:</span> <span class=\"token number\">200</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> NextResponse<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> error <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">status</span><span class=\"token operator\">:</span> <span class=\"token number\">500</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>폴더구조와 파일 이름만 잘 맞추면 자동으로 라우팅되면 위의 코드와 같이 작성하면 데이터를 가져올 수 있도록 설정이 가능하다 이렇게 설정을 마쳤다면 이제 데이터를 불러와보도록 하자</p>\n<h2 id=\"데이터-가져오기-fetch-\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0-fetch-\" aria-label=\"데이터 가져오기 fetch  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 가져오기( fetch )</h2>\n<p>데이터 가져오기는 APP 라우터 방식만을 다룰 예정이며 page 라우팅 방식으로 필요한 사람은 공식문서에 자세하게 나와 있으니 아래의 링크를 통해 보도록하자</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// App/page.tsx</span>\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">dataFetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:3000/api/mongo'</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">dataFetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 491px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 16.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAqElEQVQI11XOy07DMBhE4UnlJH9IIcW52GkrJMqCmDoRQn3/VztIZYG6mM1ZfBoNw8C6buR1I6XMz+2b99sHYQ7Ml5kuvKBGyInz+Y0wRdQKnUS5r2iaJyT9z/ueZUl8pi+W5cp1S8T1yBgDx8uJnRWoFoUrGKfA68EjE4qibCvMmkcw50wIgXb/jJnRe880Rlzl7q9U6Q5qJ/p+oOsOf60Tzkrq2h7AX6vERq3LfQ7fAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"결과\" title=\"결과\" src=\"/static/1d548c246cfb0385a651b071736a0117/13566/result.png\" srcset=\"/static/1d548c246cfb0385a651b071736a0117/e9ff0/result.png 180w,\n/static/1d548c246cfb0385a651b071736a0117/f21e7/result.png 360w,\n/static/1d548c246cfb0385a651b071736a0117/13566/result.png 491w\" sizes=\"(max-width: 491px) 100vw, 491px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>위의 코드와 같이 작성하여 호출해보면 서버에서 res.json 으로 넘겨 주었던 데이터를 이미지와 같이 받아 볼 수 있다. 하지만 여기서 주의 해야할 점은 위의 코드를 그대로 입력하면 서버의 데이터를 변경해도 이상하게 변경이 안 돼는 상황이 발생하는데 데이터가 catch가 되어서 그런 것이니 변경되는 것이 보고 싶다면 fetch를 아래와 같이 수정해보자</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">dataFetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:3000/api/mongo'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">cache</span><span class=\"token operator\">:</span> <span class=\"token string\">'no-store'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 추가</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이렇게 하면 캐싱이 일어나지 않아 변경되는 데이터를 불러올 수 있다.</p>","excerpt":"Next Js api 라우터에서 서버 개발 쇼핑몰 레이아웃에 이어 서버 개발을 시작하기 이전에 Next js에서 서버 개발을 하는 방법에 대해 정말 정말 짧겠지만 알고가면 조금더 도움이 될 것 같아 작성하게 되었다. app 라우터 방식에서 서버개발 우선 기존 page 방식과 어떤 방법의 차이가 있는지 알아보도록 하자 해당 이미지를 보면 왼쪽이 현재의 app 라이팅 오른쪽이 page 라우팅 방식의 방법이다. 이처럼 app 라우팅은 api/폴더명/route.js or js 형태로 제작을 해야하며 page라우팅 방식은 그보다는 자유롭게 자인이 원하는 이름.js or ts를 사용하여 제작할 수 있는 차이가 있다. 라우팅 예제 폴더구조와 파일 이름만 잘 맞추면 자동으로 라우팅되면 위의 코드와 같이 작성하면 데이터를 가져올 수 있도록 설정이 가능하다 이렇게 설정을 마쳤다면 이제 데이터를 불러와보도록 하자 데이터 가져오기( fetch ) 데이터 가져오기는 APP 라우터 방식만을 다룰 예정이며 …","frontmatter":{"date":"June 30, 2024","title":"Next Js app 라우터에서 서버 개발","categories":"Next_JS","author":"fefdfea","emoji":"🕊️"},"fields":{"slug":"/next-shopProject6/"}},"next":{"id":"f4d823aa-35cc-50d2-9daf-b69ba7213710","html":"<h1 id=\"레이아웃-슬라이더-구현-및-전체-레이아웃-완성\" style=\"position:relative;\"><a href=\"#%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83-%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%8D%94-%EA%B5%AC%ED%98%84-%EB%B0%8F-%EC%A0%84%EC%B2%B4-%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83-%EC%99%84%EC%84%B1\" aria-label=\"레이아웃 슬라이더 구현 및 전체 레이아웃 완성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>레이아웃 슬라이더 구현 및 전체 레이아웃 완성</h1>\n<p>이번 포스팅에서는 전체적인 레이아웃을 지금까지 만큼 컴포넌트를 이용하여 제작하고 포스팅이 좀 길어지더라도 상단의 슬라이더 부분까지 제작해볼 예정이다</p>\n<h2 id=\"컴포넌트-조합-결과\" style=\"position:relative;\"><a href=\"#%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EC%A1%B0%ED%95%A9-%EA%B2%B0%EA%B3%BC\" aria-label=\"컴포넌트 조합 결과 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컴포넌트 조합 결과</h2>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 119.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEsUlEQVQ4y3WUW29bRRDHzzfiuRJPSOWlEg889LvAA4ikUgOiKaRqQU2rEtKASIGkTQqKaNwmbdxcncRJbdeO7eP7ufh2bvY5x5cf2nXSlAIrjXb3P7OzszP/WaWaSpGP7ZNMp8lls6iqKiWXy/2v5PN51HyevKZR+ulnijM/kFRV0q9foxSKRRLJJGpepaJplKtVSqUS2WxWHhSzdFQokD1zpqpUKhXK5TLxRIKTQoFarSYxRdc0XMeh4/sE1SrduokfBHQ8j1arRRiG+L6PXyziWxZBGOI4Du1WCz8MCUwTv1KhK3DbRmk0GliWhWmaNKpV3HYb1/PodLo4jk2z2aTdtnBNU+o8r0On05FOhZ3bauGYJl5nhEuHvV5PRmIapjQcDodyb9u2jLYXhgg7cYnQiYiFnRgiqmarJdcCVwqFAplMBrVQwHQdjGYTq21JByJq27KoWxaaNcLOXiMiFykxHBu92cTQdUrlMopI+szMDPt7MYKX2zRfp1lcWiK2t8fBwQELS49opzMEmzscxeP8vrAgi7a4uMjB4SH+5g5OKs3i8jKR1QjKSSbDxOQkO4//xHrvfbSJSb6Zniby5AlrkQjXp6cxx77EvnCRFwuLTN6YIp/Ncv3GDZ49WqJ94SKNT8e4dX+W3+bnUcRtKysrFItFyKn4Zp2na2uk02kpkbU1AsMEtUheVYlEItTrdVZXVyWNyBfo1Rs839iQr1IEf0ReRPJ9hvi9nkx8v9+XeF8UbDDAB7kWQ1TTdV1p4w9HZwb9wajKqponFouRSqWo1zQMTcMwTUzDkMnXdJ1apUKtVJLkNU7xMxujWsXUdflC0QCSNuKmAecjFFTp9+W6Ui6TE11hW5zksnieN6JVENAfnJ8S0XcFbYTXu/fucRyLEd6eof08ytyDB2xvbbG7s8P9+Xns9Sjh3Vn2N7eYnZujXCpzf26Ove1tgntzuJF1fnm4yF8rKyiZdJqJa9fY+uNPrA8+Qpv6nqk7oyqvP33Gt3fuYH59A+fSZV4sLcvq5k6yTN28ydryY6xLl2lcneS72R9HVa7WahzH47QsC0QxBgOSqRS6rlOtVEgkE/KJDIbUmw2SiYTskqOjI8xGQ+JiCEbIHJaKRcqGgeN52K4jjYMgoNvtys7onlbUFv3d779pyXa7LXW20J2eEXZKuVIhG92kUa7IZhfGgi5iFs7l3rZoGgatRFLqznBpczoLEQEoTU3H+vBjgl8fEgDDXp//Gs76Bo0LF+lXNXzBgOG/bUT0isiD83KbbqlM0O/T7XRl+OLnEBeEgrxhiFWpYq8+o+u4dHu9kS4Izm2DQEau6Lk83u4+bhjKvy4Ie/ITdYNAUsgrV3G6XQLRMeKLGg5p5/I40W1s36cjdGFI2Oth2w5KPXZA8Mnnp0EP/vEE74urcBh/Cxnp/egmwZWvRtDwLXIHPoparnFYanBsuiRMl1eGI+e4ZhEvmrzSbRJ1T+JChN1Bqc5xpTnCzRH+qu6R1FooGzmN8ajKeLTA2K7B2I7+Rsb3TMZ2xVp7BzcYE3KKj+/ofBYtcWu/hrKeqfI412Im2ZAOJ2ImV89kzzhfvytv6cSZK7s6t+M6fwOQu8bu68DN5AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"결과\" title=\"결과\" src=\"/static/0e142f1c03955b3d1ea8c204a0f2ee99/f058b/result.png\" srcset=\"/static/0e142f1c03955b3d1ea8c204a0f2ee99/e9ff0/result.png 180w,\n/static/0e142f1c03955b3d1ea8c204a0f2ee99/f21e7/result.png 360w,\n/static/0e142f1c03955b3d1ea8c204a0f2ee99/f058b/result.png 630w\" sizes=\"(max-width: 630px) 100vw, 630px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>원래는 하나하나 제작하며 변경된 사항에 대하여 설명하면서 하려 하였지만 너무 레이아웃에만 많은 시간을 들이기에는 이 주제가 서버 개발로 데이터를 불러오는 것 까지 해야해서 따로 설명을 하지는 않고 완성된 모습만 가지고 슬라이더를 제작하도록 하겠다.</p>\n<h2 id=\"슬라이더-제작\" style=\"position:relative;\"><a href=\"#%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%8D%94-%EC%A0%9C%EC%9E%91\" aria-label=\"슬라이더 제작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>슬라이더 제작</h2>\n<p>서비스 소개 위쪽에 본래 슬라이더가 존재하는데 이 부분을 구현해 보도록 하자 구현 방법은 React slick을 이용하여 구현해보겠다.</p>\n<h3 id=\"슬라이더-컴포넌트-제작\" style=\"position:relative;\"><a href=\"#%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%8D%94-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EC%A0%9C%EC%9E%91\" aria-label=\"슬라이더 컴포넌트 제작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>슬라이더 컴포넌트 제작</h3>\n<p>react-slick 라이브러리 적용을 위해 아래와 같은 패키지를 다운해준다.</p>\n<blockquote>\n<p>import Slider from “react-slick”;</p>\n</blockquote>\n<blockquote>\n<p>import “slick-carousel/slick/slick.css”;</p>\n</blockquote>\n<blockquote>\n<p>import “slick-carousel/slick/slick-theme.css”;</p>\n</blockquote>\n<p>타입스크립트를 사용시에는 아래의 패키지를 추가로 다운한다.</p>\n<blockquote>\n<p>npm i react-slick @types/react-slick</p>\n</blockquote>\n<p>해당 패키지를 다운하고 새로운 컴포넌트에 이를 import한후 slider-container 클래스를 적용한 요소 안에 Slider 컴포넌트를 적고 슬라이더를 자신이 원하는 만큼 div 혹은 다른 요소로 공간을 만들어 적용하면 된다. 필자는 div 박스를 이용하고 Next의 Image 태그를 이용해 로고 이미지를 넣어 보도록 하겠다.</p>\n<blockquote>\n<p>슬라이더를 사용하는 컴포넌트는 ‘use client’를 붙이도록 하자</p>\n</blockquote>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 95%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB/klEQVQ4y62UW2/bIBhAMY4vmJsBX+M0XqIuldb///vO5CVtU23S1nYPRwgejpA4fKLc5bRNjVEVQog3MkGWifdn/4JXLV2c8cOBzgR6p2ltg00Nemho+obKlhRqh8iyvwuT6ZhdYnCKpXUsrXll2MSqRMoP3LZzE/vlkXR+Ykp7UgyMXWLoI/vjxOG0YDqPtA7RWIR2V+oGUVaIsr6tN7RyxH4lLk9oP1D7SOwiqY/0y0wYe8pGvclsQLiIUBpRvAjv0NrRppnQL9QmIuWOosipq4KykMiPPooxhnh8ZDhfaJz/+Kv+JtQG302E/YqJHfku/5pQq4boeqrGkBclpRSUMqMudsjPdGiMpQkJvRwJyzf25ydCP12FeX5t7xV5x9bkH5iXxHTYE9aV7rQyX57pzhd8l+j7QDuO2BRQMaCGETVOqGlGpYhyBuXtO0Q3RNphxOyPuOWBdP6Bf3iktg7tLJUPFMYgtUG6Fuki0kekschaIdV7hAkJ00+oeUUfVsLpGXP4TmFblHMUPiFfYvbdjR6hPaJS18CrO2yImG5EH0+occbszzTTSmEclTbsbEveGIQyCNNeo96kW+hbyJv0HmctjXHk23W/2uBGWZXkefFrcx0A2ReF2uOmlTF6vK7/w09xLd16IXrH5DTFV39Kkedkt8GZiU9O6Tt+AhLMmgbzGSmqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"코드 이미지\" title=\"코드 이미지\" src=\"/static/f4065b013edda0a9fd8b59849002ceea/37523/code.png\" srcset=\"/static/f4065b013edda0a9fd8b59849002ceea/e9ff0/code.png 180w,\n/static/f4065b013edda0a9fd8b59849002ceea/f21e7/code.png 360w,\n/static/f4065b013edda0a9fd8b59849002ceea/37523/code.png 720w,\n/static/f4065b013edda0a9fd8b59849002ceea/ef6b9/code.png 832w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 22.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABD0lEQVQY0z2OMUoDQQBFJ5VgZyFeIFjb22tjoY2Fh0gTVFQEL2CVQpCQwlhooYWIBMEDiBGD9glGIomZndlNJrM7uzs+IWA+vObDgyeMMeR5TpqmZPySeY/tfRO9vKJv7pD1K4ZnVWT1Almro65vMa0P3FDivMdYS+oc3nuklIgkSfjf5L7BYHWd78UiXTHHpyigyof0iisMt3b42dimK+b5KizQW1pmsLaJe27OfK01Io7j2eHDCNd8wz48Mqqco0r7qN1jgtIe6uAEVT4iOq0wrl0SN55wrXe8mcz8IAgQnU6bdrszzdWjCO0coc9RWTpFxxY1HqMnBp0kaGtRqUPnGdolqDBEBcG0rt/v8wctWRPsBCkD4wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"배너 결과\" title=\"배너 결과\" src=\"/static/b14b4f3be8b90d76b2253a62a7d3cfd7/37523/BannerResult.png\" srcset=\"/static/b14b4f3be8b90d76b2253a62a7d3cfd7/e9ff0/BannerResult.png 180w,\n/static/b14b4f3be8b90d76b2253a62a7d3cfd7/f21e7/BannerResult.png 360w,\n/static/b14b4f3be8b90d76b2253a62a7d3cfd7/37523/BannerResult.png 720w,\n/static/b14b4f3be8b90d76b2253a62a7d3cfd7/302a4/BannerResult.png 1080w,\n/static/b14b4f3be8b90d76b2253a62a7d3cfd7/27e9a/BannerResult.png 1253w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>위의 이미지는 slider를 구현하기 위해 작성한 코드이며 settings라는 값이 있다. 해당 값은 슬라이더의 설정을 변경하는 부분이다 이 부분의 값을 변경하여 자신이 원하는 슬라이더로 커스텀이 가능하다.</p>\n<blockquote>\n<p>자세한 옵션은 공식문서참조: <a href=\"https://react-slick.neostack.com/docs/api\">공식문서 api</a></p>\n</blockquote>\n<h2 id=\"전체적인-레이아웃-끝\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%B2%B4%EC%A0%81%EC%9D%B8-%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83-%EB%81%9D\" aria-label=\"전체적인 레이아웃 끝 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>전체적인 레이아웃 끝</h2>\n<p>이번 포스팅이 많이 부족해 보이기는 하지만 현재 이 클론코딩을 하는 주 목적은 어디까지나 next js를 이용하여 풀스택 개발을 해보는 것이 목적임으로 레이아웃에 큰 비중을 두지 않고 빠르게 서버도 개발하여 풀스택을 개발해보는 것이 더 좋을 것이라 생각하여 이렇게 진행하게 되었다. 그리고 이제 끝났으니 다음 포스팅 부터는 서버개발을 시작 해보도록하자</p>","frontmatter":{"date":"June 25, 2024","title":"Next Js 쇼핑몰 제작 프로젝트 레이아웃 최종","categories":"Next_JS","author":"fefdfea","emoji":"🕊️"},"fields":{"slug":"/next-shopProject5/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://fefdfea1.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/next-shopProject6/","nextSlug":"/next-shopProject5/","prevSlug":""}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}